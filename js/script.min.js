function redirect(e){switch(e){case 1:window.open("https://saythanks.io/to/lightsout");break;case 2:alert("Bitocin Wallet : 1XGr9qbZjBpUQJJSB6WtgBQbDTgrhPLPA");break;case 3:window.open("https://beerpay.io/sepandhaghighi/lightsout");break;case 4:window.open("https://www.payping.ir/sepandhaghighi");break;default:window.open("https://saythanks.io/to/lightsout")}}function getname(){player_name=prompt("Please Enter Your Name ;-)\n(1-10 Character)"),(null==player_name||player_name.length<1)&&(player_name="Guest")}function init(e){first_init=1,color=CSS_COLOR_NAMES[Math.floor(Math.random()*CSS_COLOR_NAMES.length+1)].toLowerCase();var t,r,n,o,a,i,l,s=[];for(n=0,a=document.getElementById("game_name"),a.style.color=color,a.innerHTML="Lights Out Game",o=document.getElementById("move"),l=document.getElementById("reset"),i=0,init_flag=!0,2==e&&(reset_counter+=1,l.innerHTML="Reset ("+reset_counter+")");10>i;)i=Math.floor(15*Math.random()+1);for(;i>n;)r=Math.floor(25*Math.random()+1),s.indexOf(r)<0&&(s.push(r),n+=1);for(t=1;26>t;t++)document.getElementById(t.toString()).style.backgroundColor=color,document.getElementById(t.toString()).innerHTML="";for(t=0;t<s.length;t++)reply_click(s[t].toString(),!0);o.innerHTML=0,init_flag=!1}function toggle(e){var t;t=document.getElementById(e.toString()),t.style.backgroundColor==color?(t.style.backgroundColor="white",t.innerHTML=lamp_awsome):(t.style.backgroundColor=color,t.innerHTML="")}function end_game(){var e,t,r;for(t=0,e=1;26>e;e++)if("white"==document.getElementById(e.toString()).style.backgroundColor){t+=1;break}0==t&&(score+=1,r=document.getElementById("win"),r.innerHTML=parseInt(r.innerHTML)+1,init())}function savescore(){getname(),saveToFirebase(player_name,score)}function get_data(){var e=firebase.database().ref("subscription-entries").orderByChild("score").limitToLast(10),t=0;e.on("value",function(e){e.forEach(function(e){var r=e.val().name,n=e.val().score;document.getElementById("N"+(10-t).toString()).innerHTML=r,document.getElementById("S"+(10-t).toString()).innerHTML=n,t+=1})})}function saveToFirebase(e,t,r,n){var o={name:e,score:t,reset:n,move:r};try{firebase.database().ref("subscription-entries").push().set(o).then(function(e){},function(e){console.log("error"+e)})}catch(a){}}function restart_game(){0==first_move?restart_flag=1:(reset=document.getElementById("reset"),reset.innerHTML="Reset!",reset_counter=0)}function startTimer(e,t){var r,n,o=e,a=setInterval(function(){r=parseInt(o/60,10),n=parseInt(o%60,10),r=10>r?"0"+r:r,n=10>n?"0"+n:n,t.textContent=r+":"+n,no_move_counter+=1,o==e/2?t.style.color="orange":60==o&&(t.style.color="red"),no_move_counter>=60&&o>100&&(alert("Move!!!"),no_move_counter=0),(--o<0||1==restart_flag)&&(0==restart_flag&&(saveToFirebase(player_name,score.toString(),total_move.toString(),reset_counter.toString()),alert("Time is up\n\n Player Name : "+player_name+"\n Score : "+score.toString()+"\n Reset : "+reset_counter.toString()+"\n Total Move : "+total_move.toString())),o=e,restart_config(t),clearInterval(a))},1e3)}function restart_config(e){e.textContent="TI:ME",total_move=0,e.style.color="black",win=document.getElementById("win"),win.innerHTML=0,score=0,reset=document.getElementById("reset"),reset.innerHTML="Reset!",reset_counter=0,first_move=!0,restart_flag=0,init(1)}var CSS_COLOR_NAMES=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","ForestGreen","Fuchsia","Gainsboro","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","Yellow","YellowGreen"],color,reset_counter=0,lamp_awsome='<i class="fa fa-lightbulb-o fa-3x" aria-hidden="true"></i>',spinner='<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>',first_init=0,player_name=null,score=0,first_move=!0,init_flag=!1,total_move=0,restart_flag=0,no_move_counter=0,hr=(new Date).getHours();(hr>=19||6>hr)&&(lamp_awsome='<i class="fa fa-lightbulb-o fa-3x" aria-hidden="true" style="color:gold"></i>');var reply_click=function(e){var t,r;r=document.getElementById("move"),1==first_move&&0==init_flag&&(display=document.querySelector("#time"),startTimer(420,display),first_move=!1),t=parseInt(e),1==first_init&&(25>=t+5&&toggle(t+5),t-5>=1&&toggle(t-5),(t-1)%5==0?toggle(t+1):t%5==0?toggle(t-1):(toggle(t-1),toggle(t+1)),0==init_flag&&(r.innerHTML=parseInt(r.innerHTML)+1,total_move+=1),toggle(t),end_game()),no_move_counter=0};